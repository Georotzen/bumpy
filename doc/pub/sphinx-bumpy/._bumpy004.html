
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Advanced topics</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>

        <script src="http://sagecell.sagemath.org/static/jquery.min.js"></script>
        <script src="http://sagecell.sagemath.org/static/embedded_sagecell.js"></script>

        <script>sagecell.makeSagecell({inputLocation: ".sage"});</script>

        <style type="text/css">
                .sagecell .CodeMirror-scroll {
                        overflow-y: hidden;
                        overflow-x: auto;
                }
                .sagecell .CodeMirror {
                        height: auto;
                }
        </style>

    
    <link rel="top" title="A worked example on scientific computing with Python" href="index.html" />
    <link rel="next" title="Appendix: Quick motivation for programming with Python" href="._bumpy005.html" />
    <link rel="prev" title="Visual exploration" href="._bumpy003.html" />
 
  
       <style type="text/css">
         div.admonition {
           background-color: whiteSmoke;
           border: 1px solid #bababa;
         }
       </style>
      </head>
    
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="._bumpy005.html" title="Appendix: Quick motivation for programming with Python"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="._bumpy003.html" title="Visual exploration"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">A worked example on scientific computing with Python</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="advanced-topics">
<h1>Advanced topics<a class="headerlink" href="#advanced-topics" title="Permalink to this headline">¶</a></h1>
<div class="section" id="symbolic-computing-via-sympy">
<h2>Symbolic computing via SymPy<a class="headerlink" href="#symbolic-computing-via-sympy" title="Permalink to this headline">¶</a></h2>
<p>Python has a package SymPy that offers symbolic computing. Here is
a simple introductory example where we differentiate a quadratic
polynomial, integrate it again, and find the roots:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sympy</span> <span class="kn">as</span> <span class="nn">sp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">symbols</span><span class="p">(</span><span class="s">&#39;x a&#39;</span><span class="p">)</span>        <span class="c"># Define mathematical symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span>                  <span class="c"># Quadratic function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dQdx</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>            <span class="c"># Differentiate wrt x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dQdx</span>
<span class="go">2*a*x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q2</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="n">dQdx</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>      <span class="c"># Integrate (no constant)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q2</span>
<span class="go">a*x**2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q2</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span> <span class="c"># Definite integral</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q2</span>
<span class="go">a**4/3 - a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roots</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>          <span class="c"># Solve Q = 0 wrt x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roots</span>
<span class="go">[-sqrt(1/a), sqrt(1/a)]</span>
</pre></div>
</div>
<p>One can easily convert a SymPy expression like <code class="docutils literal"><span class="pre">Q</span></code> into
a Python function <code class="docutils literal"><span class="pre">Q(x,</span> <span class="pre">a)</span></code> to be used for further numerical
computing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">lambdify</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">],</span> <span class="n">Q</span><span class="p">)</span>      <span class="c"># Turn Q into Py func.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Q</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>                     <span class="c"># 3*2**2 - 1 = 11</span>
<span class="go">11</span>
</pre></div>
</div>
<p>Sympy can do a lot of other things. Here is an example on
computing the Taylor series of <span class="math">\(e^{-x}\sin(rx)\)</span>, where <span class="math">\(r\)</span>
is the smallest root of <span class="math">\(Q=ax^2-1=0\)</span> as computed above:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">sp</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">roots</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">-x*sqrt(1/a) + x**3*(-a**2*sqrt(1/a)/2 + (1/a)**(3/2)/6) +</span>
<span class="go">a*x**2*sqrt(1/a) + O(x**4)</span>
</pre></div>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Software testing in Python is best done with a <em>unit test framework</em>
such as
<a class="reference external" href="https://nose.readthedocs.org/">nose</a> or
<a class="reference external" href="http://pytest.org/latest/">pytest</a>.
These frameworks can automatically
run all functions starting with <code class="docutils literal"><span class="pre">test_</span></code> recursively in files in a
directory tree. Each <code class="docutils literal"><span class="pre">test_*</span></code> function is called a <em>test function</em>
and must take no arguments and apply <code class="docutils literal"><span class="pre">assert</span></code> to a boolean expression
that is <code class="docutils literal"><span class="pre">True</span></code> if the test passes and <code class="docutils literal"><span class="pre">False</span></code> if it fails.</p>
<div class="section" id="example-on-a-test-function">
<h3>Example on a test function<a class="headerlink" href="#example-on-a-test-function" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">halve</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return half of x.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">/</span><span class="mf">2.0</span>

<span class="k">def</span> <span class="nf">test_halve</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">expected</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">computed</span> <span class="o">=</span> <span class="n">halve</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="c"># Compare real numbers using tolerance</span>
    <span class="n">tol</span> <span class="o">=</span> <span class="mf">1E-14</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">computed</span> <span class="o">-</span> <span class="n">expected</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">diff</span> <span class="o">&lt;</span> <span class="n">tol</span>
</pre></div>
</div>
</div>
<div class="section" id="test-function-for-the-numerical-solver">
<h3>Test function for the numerical solver<a class="headerlink" href="#test-function-for-the-numerical-solver" title="Permalink to this headline">¶</a></h3>
<p>A frequently used technique to test differential equation solvers
is to just specify a solution and fit a source term in the differential
equation such that the specified solution solves the equation.
The initial conditions must be set according to the specified
solution. This technique is known as the <em>method of manufactured
solutions</em>.</p>
<p>Here we shall specify a solution that is quadratic or linear
in <span class="math">\(t\)</span> because
such lower-order polynomials will often be an exact solution of both
the differential equation <em>and</em> the finite difference equations.
This means that the polynomial should be reproduced to machine
precision by our <code class="docutils literal"><span class="pre">solver</span></code> function.</p>
<p>We can use SymPy to find an appropriate <span class="math">\(F(t)\)</span> term in the
differential equation such that a specified solution <span class="math">\(u(t)=I + Vt + qt^2\)</span>
fits the equation and initial conditions. With quadratic damping,
only a linear <span class="math">\(u\)</span> will solve the discrete equation so in this case
we choose <span class="math">\(u=I+Vt\)</span>.</p>
<p>We embed the SymPy calculations and the numerical calculations
in a <em>test function</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">lhs_eq</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">damping</span><span class="o">=</span><span class="s">&#39;linear&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return lhs of differential equation as sympy expression.&quot;&quot;&quot;</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="o">*</span><span class="n">v</span> <span class="k">if</span> <span class="n">damping</span> <span class="o">==</span> <span class="s">&#39;linear&#39;</span> <span class="k">else</span> <span class="n">b</span><span class="o">*</span><span class="n">v</span><span class="o">*</span><span class="n">sp</span><span class="o">.</span><span class="n">Abs</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">m</span><span class="o">*</span><span class="n">sp</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="n">d</span> <span class="o">+</span> <span class="n">s</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_solver</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Verify linear/quadratic solution.&quot;&quot;&quot;</span>
    <span class="c"># Set input data for the test</span>
    <span class="n">I</span> <span class="o">=</span> <span class="mf">1.2</span><span class="p">;</span> <span class="n">V</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">b</span> <span class="o">=</span> <span class="mf">0.9</span><span class="p">;</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">s</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">k</span><span class="o">*</span><span class="n">u</span>
    <span class="n">T</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.2</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">T</span><span class="o">/</span><span class="n">dt</span><span class="p">))</span>
    <span class="n">time_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

    <span class="c"># Test linear damping</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
    <span class="n">q</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c"># arbitrary constant</span>
    <span class="n">u_exact</span> <span class="o">=</span> <span class="n">I</span> <span class="o">+</span> <span class="n">V</span><span class="o">*</span><span class="n">t</span> <span class="o">+</span> <span class="n">q</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span>   <span class="c"># sympy expression</span>
    <span class="n">F_term</span> <span class="o">=</span> <span class="n">lhs_eq</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">u_exact</span><span class="p">,</span> <span class="s">&#39;linear&#39;</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">&#39;Fitted source term, linear case:&#39;</span><span class="p">,</span> <span class="n">F_term</span>
    <span class="n">F</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">lambdify</span><span class="p">([</span><span class="n">t</span><span class="p">],</span> <span class="n">F_term</span><span class="p">)</span>
    <span class="n">u</span><span class="p">,</span> <span class="n">t_</span> <span class="o">=</span> <span class="n">solver</span><span class="p">(</span><span class="n">I</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">time_points</span><span class="p">,</span> <span class="s">&#39;linear&#39;</span><span class="p">)</span>
    <span class="n">u_e</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">lambdify</span><span class="p">([</span><span class="n">t</span><span class="p">],</span> <span class="n">u_exact</span><span class="p">,</span> <span class="n">modules</span><span class="o">=</span><span class="s">&#39;numpy&#39;</span><span class="p">)</span>
    <span class="n">error</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">u_e</span><span class="p">(</span><span class="n">t_</span><span class="p">)</span> <span class="o">-</span> <span class="n">u</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">tol</span> <span class="o">=</span> <span class="mf">1E-13</span>
    <span class="k">assert</span> <span class="n">error</span> <span class="o">&lt;</span> <span class="n">tol</span>

    <span class="c"># Test quadratic damping: u_exact must be linear</span>
    <span class="n">u_exact</span> <span class="o">=</span> <span class="n">I</span> <span class="o">+</span> <span class="n">V</span><span class="o">*</span><span class="n">t</span>
    <span class="n">F_term</span> <span class="o">=</span> <span class="n">lhs_eq</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">u_exact</span><span class="p">,</span> <span class="s">&#39;quadratic&#39;</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">&#39;Fitted source term, quadratic case:&#39;</span><span class="p">,</span> <span class="n">F_term</span>
    <span class="n">F</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">lambdify</span><span class="p">([</span><span class="n">t</span><span class="p">],</span> <span class="n">F_term</span><span class="p">)</span>
    <span class="n">u</span><span class="p">,</span> <span class="n">t_</span> <span class="o">=</span> <span class="n">solver</span><span class="p">(</span><span class="n">I</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">time_points</span><span class="p">,</span> <span class="s">&#39;quadratic&#39;</span><span class="p">)</span>
    <span class="n">u_e</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">lambdify</span><span class="p">([</span><span class="n">t</span><span class="p">],</span> <span class="n">u_exact</span><span class="p">,</span> <span class="n">modules</span><span class="o">=</span><span class="s">&#39;numpy&#39;</span><span class="p">)</span>
    <span class="n">error</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">u_e</span><span class="p">(</span><span class="n">t_</span><span class="p">)</span> <span class="o">-</span> <span class="n">u</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">error</span> <span class="o">&lt;</span> <span class="n">tol</span>
</pre></div>
</div>
</div>
<div class="section" id="using-a-test-framework">
<h3>Using a test framework<a class="headerlink" href="#using-a-test-framework" title="Permalink to this headline">¶</a></h3>
<p>We recommend to use <code class="docutils literal"><span class="pre">pytest</span></code> as test framework. Subdirectories <code class="docutils literal"><span class="pre">test*</span></code>
are examined for files <code class="docutils literal"><span class="pre">test_*.py</span></code> that have test functions <code class="docutils literal"><span class="pre">test_*()</span></code>,
and all such tests are executed by the following command:</p>
<div class="highlight-text"><div class="highlight"><pre>Terminal&gt; py.test -s
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">-s</span></code> option makes all output from the tests appear in the terminal
window.</p>
<p>To run the tests in a specific file <code class="docutils literal"><span class="pre">tests/test_bumpy.py</span></code>, do</p>
<div class="highlight-text"><div class="highlight"><pre>Terminal&gt; py.test -s tests/test_bumpy.py
</pre></div>
</div>
</div>
</div>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<p>Python software is frequently organized as modules, or in collection
of modules, called packages. A module enables sharing
functions, variables, and classes between programs and other modules.</p>
<p>It is very easy to make a module in Python. Just put all the functions
and global variables (and classes, if you have) you want to include in
the module in a file. If you have a main program calling functions
or using global variables, these statements will be executed with you
import the module in other programs, which is not what you want.
Therefore, move the main program to a so-called <em>test block</em> at the
end of the module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">statements</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">main</span> <span class="n">program</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The module file, say its name is <code class="docutils literal"><span class="pre">mymod.py</span></code>, now typically looks like</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">module1</span>
<span class="kn">from</span> <span class="nn">module2</span> <span class="kn">import</span> <span class="n">func1</span><span class="p">,</span> <span class="n">func2</span>

<span class="k">def</span> <span class="nf">myfunc1</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">def</span> <span class="nf">myfunc2</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">statements</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">main</span> <span class="n">program</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The name of the module <code class="docutils literal"><span class="pre">mymod</span></code> if the filename is <code class="docutils literal"><span class="pre">mymod.py</span></code>.
During <code class="docutils literal"><span class="pre">import</span> <span class="pre">mymod</span></code> or <code class="docutils literal"><span class="pre">from</span> <span class="pre">mymod</span> <span class="pre">import</span> <span class="pre">*</span></code>, the special Python
variable <code class="docutils literal"><span class="pre">__name__</span></code>
equals the name of the module and the test block with statements
in the main program will not be executed. However, if you run
<code class="docutils literal"><span class="pre">mymod.py</span></code> as a program, <code class="docutils literal"><span class="pre">__name__</span></code> equals <code class="docutils literal"><span class="pre">__main__</span></code> and
the main program will be executed. In this way, you can have a single
file that both acts as a library and that is an executable program.</p>
<p>A <code class="docutils literal"><span class="pre">from</span> <span class="pre">mymod</span> <span class="pre">import</span> <span class="pre">*</span></code> will import the global functions
<code class="docutils literal"><span class="pre">myfunc1</span></code> and <code class="docutils literal"><span class="pre">myfunc2</span></code>, plus
the global names <code class="docutils literal"><span class="pre">module1</span></code>, <code class="docutils literal"><span class="pre">somefunc1</span></code>, and <code class="docutils literal"><span class="pre">somefunc2</span></code>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <center>
            <p class="logo"><a href="http://cbc.simula.no/" title="Go to Center for Biomedical Computing">
              <img class="logo" src="_static/cbc_logo.png" alt="Logo"/>
            </a></p>
            </center>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Advanced topics</a><ul>
<li><a class="reference internal" href="#symbolic-computing-via-sympy">Symbolic computing via SymPy</a></li>
<li><a class="reference internal" href="#testing">Testing</a><ul>
<li><a class="reference internal" href="#example-on-a-test-function">Example on a test function</a></li>
<li><a class="reference internal" href="#test-function-for-the-numerical-solver">Test function for the numerical solver</a></li>
<li><a class="reference internal" href="#using-a-test-framework">Using a test framework</a></li>
</ul>
</li>
<li><a class="reference internal" href="#modules">Modules</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="._bumpy003.html"
                        title="previous chapter">Visual exploration</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="._bumpy005.html"
                        title="next chapter">Appendix: Quick motivation for programming with Python</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/._bumpy004.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="._bumpy005.html" title="Appendix: Quick motivation for programming with Python"
             >next</a> |</li>
        <li class="right" >
          <a href="._bumpy003.html" title="Visual exploration"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">A worked example on scientific computing with Python</a> &raquo;</li> 
      </ul>
    </div>
<div class="wrapper">
  <div class="footer">
    <a href="http://cbc.simula.no"><img src="_static/cbc_banner.png" width="100%"><a>
    <br />
    <br />
      &copy;H. P. Langtangen.
  </div>
</div>

  </body>
</html>